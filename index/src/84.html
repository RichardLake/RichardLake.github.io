<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\users\richard\documents\ckansplit\ckan-core\tests\ckan\types\version.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using NUnit.Framework;

namespace CKANTests
{
    [TestFixture]
    public class Version
    {
        [Test]
        public void Alpha()
        {
            var v1 = new CKAN.Version(&quot;apple&quot;);
            var v2 = new CKAN.Version(&quot;banana&quot;);

            // alphabetical test
            Assert.That(v1.IsLessThan(v2));
        }

        [Test]
        public void Basic()
        {
            var v0 = new CKAN.Version(&quot;1.2.0&quot;);
            var v1 = new CKAN.Version(&quot;1.2.0&quot;);
            var v2 = new CKAN.Version(&quot;1.2.1&quot;);

            Assert.That(v1.IsLessThan(v2));
            Assert.That(v2.IsGreaterThan(v1));
            Assert.That(v1.IsEqualTo(v0));
        }

        [Test]
        public void Complex()
        {
            var v1 = new CKAN.Version(&quot;v6a12&quot;);
            var v2 = new CKAN.Version(&quot;v6a5&quot;);
            Assert.That(v2.IsLessThan(v1));
            Assert.That(v1.IsGreaterThan(v2));
            Assert.That(! v1.IsEqualTo(v2));
        }

        [Test]
        public void Epoch()
        {
            var v1 = new CKAN.Version(&quot;1.2.0&quot;);
            var v2 = new CKAN.Version(&quot;1:1.2.0&quot;);

            Assert.That(v1.IsLessThan(v2));
        }

        [Test]
        public void DllVersion()
        {
            var v1 = new CKAN.DllVersion();
            Assert.AreEqual(&quot;autodetected dll&quot;, v1.ToString());
        }

        [Test]
        public void ProvidesVersion()
        {
            var v1 = new CKAN.ProvidesVersion(&quot;SomeModule&quot;);
            Assert.AreEqual(&quot;provided by SomeModule&quot;, v1.ToString());
        }

        [Test]
        public void AGExt()
        {
            var v1 = new CKAN.Version(&quot;1.20&quot;);
            var v2 = new CKAN.Version(&quot;1.22a&quot;);

            Assert.That(v2.IsGreaterThan(v1));
        }

        [Test]
        public void StringComparison()
        {
            var str = CKAN.Version.StringComp(&quot;&quot;, &quot;&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foo&quot;, &quot;foo&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foobar&quot;, &quot;foobaz&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;barbaz&quot;, &quot;foobar&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foobaz&quot;, &quot;foobar&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));            
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foo12&quot;, &quot;foo51&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;12&quot;, str.remainder1);
            Assert.AreEqual(&quot;51&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foo51&quot;, &quot;foo12&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;51&quot;, str.remainder1);
            Assert.AreEqual(&quot;12&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;42bar&quot;, &quot;bar42&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;42bar&quot;, str.remainder1);
            Assert.AreEqual(&quot;42&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;foo0bar&quot;, &quot;foo1bar&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;0bar&quot;, str.remainder1);
            Assert.AreEqual(&quot;1bar&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;f0bar&quot;, &quot;foo1bar&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;0bar&quot;, str.remainder1);
            Assert.AreEqual(&quot;1bar&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;.25.0&quot;, &quot;.25.0&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;25.0&quot;, str.remainder1);
            Assert.AreEqual(&quot;25.0&quot;, str.remainder2);

            str = CKAN.Version.StringComp(&quot;.25.0&quot;, &quot;.25.99&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;25.0&quot;, str.remainder1);
            Assert.AreEqual(&quot;25.99&quot;, str.remainder2);
        }

        [Test]
        public void NumberComparison()
        {
            var str = CKAN.Version.NumComp(&quot;0&quot;, &quot;0&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;1&quot;, &quot;2&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;2&quot;, &quot;1&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;001&quot;, &quot;02&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;02&quot;, &quot;001&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));
            Assert.AreEqual(&quot;&quot;, str.remainder1);
            Assert.AreEqual(&quot;&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;0foo&quot;, &quot;0bar&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;foo&quot;, str.remainder1);
            Assert.AreEqual(&quot;bar&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;3foo&quot;, &quot;7bar&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;foo&quot;, str.remainder1);
            Assert.AreEqual(&quot;bar&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;7foo&quot;, &quot;3bar&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));
            Assert.AreEqual(&quot;foo&quot;, str.remainder1);
            Assert.AreEqual(&quot;bar&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;00foo11&quot;, &quot;11foo00&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;foo11&quot;, str.remainder1);
            Assert.AreEqual(&quot;foo00&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;1337stuff&quot;, &quot;1337stuff&quot;);

            Assert.That(str.compare_to, Is.EqualTo(0));
            Assert.AreEqual(&quot;stuff&quot;, str.remainder1);
            Assert.AreEqual(&quot;stuff&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;13.5a&quot;, &quot;12.8.2b&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));
            Assert.AreEqual(&quot;.5a&quot;, str.remainder1);
            Assert.AreEqual(&quot;.8.2b&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;101.0&quot;, &quot;12.2&quot;);

            Assert.That(str.compare_to, Is.GreaterThan(0));
            Assert.AreEqual(&quot;.0&quot;, str.remainder1);
            Assert.AreEqual(&quot;.2&quot;, str.remainder2);

            str = CKAN.Version.NumComp(&quot;12.2&quot;, &quot;101.0&quot;);

            Assert.That(str.compare_to,Is.LessThan(0));
            Assert.AreEqual(&quot;.2&quot;, str.remainder1);
            Assert.AreEqual(&quot;.0&quot;, str.remainder2);
        }

    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[10,9,10,10,1],[11,13,11,48,1],[12,13,12,49,1],[15,13,15,44,1],[16,9,16,10,1],[20,9,20,10,1],[21,13,21,48,1],[22,13,22,48,1],[23,13,23,48,1],[25,13,25,44,1],[26,13,26,47,1],[27,13,27,43,1],[28,9,28,10,1],[32,9,32,10,1],[33,13,33,48,1],[34,13,34,47,1],[35,13,35,44,1],[36,13,36,47,1],[37,13,37,45,1],[38,9,38,10,1],[42,9,42,10,1],[43,13,43,48,1],[44,13,44,50,1],[46,13,46,44,1],[47,9,47,10,1],[51,9,51,10,1],[52,13,52,44,1],[53,13,53,64,1],[54,9,54,10,1],[58,9,58,10,1],[59,13,59,61,1],[60,13,60,70,1],[61,9,61,10,1],[65,9,65,10,1],[66,13,66,47,1],[67,13,67,48,1],[69,13,69,47,1],[70,9,70,10,1],[74,9,74,10,1],[75,13,75,55,1],[77,13,77,56,1],[78,13,78,49,1],[79,13,79,49,1],[81,13,81,57,1],[83,13,83,56,1],[84,13,84,49,1],[85,13,85,49,1],[87,13,87,63,1],[89,13,89,56,1],[90,13,90,49,1],[91,13,91,49,1],[93,13,93,63,1],[95,13,95,56,1],[96,13,96,49,1],[97,13,97,49,1],[99,13,99,63,1],[101,13,101,60,1],[102,13,102,49,1],[103,13,103,49,1],[105,13,105,61,1],[107,13,107,56,1],[108,13,108,51,1],[109,13,109,51,1],[111,13,111,61,1],[113,13,113,56,1],[114,13,114,51,1],[115,13,115,51,1],[117,13,117,61,1],[119,13,119,56,1],[120,13,120,54,1],[121,13,121,51,1],[123,13,123,65,1],[125,13,125,56,1],[126,13,126,53,1],[127,13,127,53,1],[129,13,129,63,1],[131,13,131,56,1],[132,13,132,53,1],[133,13,133,53,1],[135,13,135,61,1],[137,13,137,56,1],[138,13,138,53,1],[139,13,139,53,1],[141,13,141,62,1],[143,13,143,56,1],[144,13,144,53,1],[145,13,145,54,1],[146,9,146,10,1],[150,9,150,10,1],[151,13,151,54,1],[153,13,153,56,1],[154,13,154,49,1],[155,13,155,49,1],[157,13,157,50,1],[159,13,159,56,1],[160,13,160,49,1],[161,13,161,49,1],[163,13,163,50,1],[165,13,165,60,1],[166,13,166,49,1],[167,13,167,49,1],[169,13,169,53,1],[171,13,171,56,1],[172,13,172,49,1],[173,13,173,49,1],[175,13,175,53,1],[177,13,177,60,1],[178,13,178,49,1],[179,13,179,49,1],[181,13,181,56,1],[183,13,183,56,1],[184,13,184,52,1],[185,13,185,52,1],[187,13,187,56,1],[189,13,189,56,1],[190,13,190,52,1],[191,13,191,52,1],[193,13,193,56,1],[195,13,195,60,1],[196,13,196,52,1],[197,13,197,52,1],[199,13,199,62,1],[201,13,201,56,1],[202,13,202,54,1],[203,13,203,54,1],[205,13,205,66,1],[207,13,207,56,1],[208,13,208,54,1],[209,13,209,54,1],[211,13,211,60,1],[213,13,213,60,1],[214,13,214,52,1],[215,13,215,54,1],[217,13,217,57,1],[219,13,219,60,1],[220,13,220,51,1],[221,13,221,51,1],[223,13,223,57,1],[225,13,225,56,1],[226,13,226,51,1],[227,13,227,51,1],[228,9,228,10,1]]);
    </script>
  </body>
</html>